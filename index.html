<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AB0 –∏ Rh: –ó–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</title>
<style>
  :root{
    --brand:#47b04b;
    --brand-dark:#2a7a2e;
    --accent:#63d46a;
    --ink:#1b1b1b;
    --paper:#ffffff;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Noto Sans','Helvetica Neue',Arial,sans-serif;color:var(--ink);background:#f3faf3}
  .app{min-height:100%;display:flex;flex-direction:column}
  header{
    position:sticky;top:0;z-index:20;
    background:linear-gradient(180deg, var(--brand) 0%, var(--accent) 120%);
    box-shadow:0 6px 20px rgba(0,0,0,.15);
  }
  .bar{display:flex;align-items:center;gap:10px;max-width:1100px;margin:0 auto;padding:16px}
  .logo{display:flex;align-items:center;gap:10px;color:#fff;font-weight:800;letter-spacing:.3px}
  .logo .mark{width:36px;height:36px;border-radius:50%;background:#fff3;display:grid;place-content:center;font-size:20px}
  nav{margin-left:auto;display:flex;gap:12px;flex-wrap:wrap}
  .tab{border:none;padding:10px 16px;border-radius:999px;background:#fff;color:#1c3b1d;font-weight:700;
       cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 2px 0 rgba(0,0,0,.08)}
  .tab.active{background:#163e19;color:#fff;box-shadow:0 6px 16px rgba(0,0,0,.25)}
  .content{max-width:1100px;margin:18px auto 40px;flex:1;width:100%}
  section{display:none;animation:fade .35s ease}
  section.active{display:block}
  @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

  /* Hero backgrounds */
  .hero{
    border-radius:22px;overflow:hidden;position:relative;
    min-height:300px;display:flex;align-items:flex-end;
    background-size:cover;background-position:center;
    box-shadow:0 10px 30px rgba(0,0,0,.2); margin-bottom:16px;
  }
  .hero .overlay{
    width:100%;padding:18px;background:linear-gradient(180deg, transparent, rgba(0,0,0,.55));
    color:#fff;font-weight:800;font-size:28px;letter-spacing:.3px;text-shadow:0 2px 8px #0009;
  }
  /* Cards / panels */
  .card{background:var(--paper);border-radius:18px;padding:18px 20px;margin:14px 0;
        box-shadow:0 8px 24px rgba(0,0,0,.12)}
  .muted{opacity:.8}
  .pill{display:inline-block;background: #eaf7ea;border:1px solid #bfe8c1;color:#1c3b1d;
        padding:6px 12px;border-radius:999px;font-weight:700}
  details.answer summary{cursor:pointer;list-style:none}
  details.answer summary::-webkit-details-marker{display:none}
  details.answer{border:1px dashed #cfe9d1;padding:10px 12px;border-radius:14px}
  details.answer[open]{background:#fbfffb}
  .row{display:grid;gap:14px}
  @media(min-width:720px){ .row{grid-template-columns:1fr 1fr}}

  /* TEST styles */
  .grid{display:grid;gap:14px}
  .grid-2{grid-template-columns:1fr 1fr}
  .timer{font-size:26px;font-weight:800;letter-spacing:1px}
  .rule{background:#fffbf1;border-left:6px solid #f5c85b;padding:12px 14px;border-radius:12px}
  .question{padding:12px 14px;border-radius:14px;border:1px solid #e7f4e8;background:#fcfffc}
  .question h4{margin:0 0 8px}
  .opt{display:flex;gap:10px;align-items:center;margin:6px 0}
  .opt input{transform:scale(1.2)}
  .btn{background:var(--brand-dark);color:#fff;border:none;border-radius:12px;padding:12px 16px;
       font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.2)}
  .btn[disabled]{opacity:.6;cursor:not-allowed;box-shadow:none}
  .danger{background:#b23b3b}
  .ghost{background:#fff;color:#163e19;border:2px solid #163e19}
  .score{font-size:22px;font-weight:800}
  .blocked{opacity:.7;pointer-events:none}

  footer{margin-top:auto;text-align:center;padding:20px;color:#2d2d2d;opacity:.7}
</style>
</head>
<body>
<div class="app">
  <header>
    <div class="bar">
      <div class="logo"><div class="mark">üß¨</div> <div>–ì—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏ –∏ Rh</div></div>
      <nav>
        <button class="tab active" data-tab="theory">–¢–ï–û–†–ò–Ø</button>
        <button class="tab" data-tab="tasks">–ó–ê–î–ê–ù–ò–Ø</button>
        <button class="tab" data-tab="test">–¢–ï–°–¢</button>
        <button class="tab" data-tab="hw">–î–û–ú–ê–®–ù–ï–ï –ó–ê–î–ê–ù–ò–ï</button>
      </nav>
    </div>
  </header>

  <main class="content">
    <!-- THEORY -->
    <section id="theory" class="active">
      <div class="hero" style="background-image:url('theory_bg.png');">
        <div class="overlay">–ó–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø –∫—Ä–æ–≤–∏ –∏ —Ä–µ–∑—É—Å-—Ñ–∞–∫—Ç–æ—Ä–∞</div>
      </div>
      <div class="card">
        <h2>–°–∏—Å—Ç–µ–º–∞ AB0</h2>
        <p>–£ —á–µ–ª–æ–≤–µ–∫–∞ —Ä–∞–∑–ª–∏—á–∞—é—Ç 4 –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏:
        <strong>I (0)</strong>, <strong>II (A)</strong>, <strong>III (B)</strong>, <strong>IV (AB)</strong>.</p>
        <p class="muted">–≠—Ç–∏ –≥—Ä—É–ø–ø—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –æ–¥–Ω–∏–º –≥–µ–Ω–æ–º, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å —Ç—Ä–∏ –∞–ª–ª–µ–ª—è:
        <strong>I·¥¨</strong> ‚Äì –∫–æ–¥–∏—Ä—É–µ—Ç –∞–Ω—Ç–∏–≥–µ–Ω A; <strong>I·¥Æ</strong> ‚Äì –∫–æ–¥–∏—Ä—É–µ—Ç –∞–Ω—Ç–∏–≥–µ–Ω B;
        <strong>i</strong> ‚Äì –Ω–µ –∫–æ–¥–∏—Ä—É–µ—Ç –∞–Ω—Ç–∏–≥–µ–Ω–æ–≤ (—Ä–µ—Ü–µ—Å—Å–∏–≤–Ω—ã–π).</p>
        <ul>
          <li>–ê–ª–ª–µ–ª–∏ <strong>I·¥¨</strong> –∏ <strong>I·¥Æ</strong> –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ (<em>–∫–æ–¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</em>).
              –í –≥–µ–Ω–æ—Ç–∏–ø–µ <strong>I·¥¨I·¥Æ</strong> —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è <strong>IV (AB)</strong> –≥—Ä—É–ø–ø–∞ –∫—Ä–æ–≤–∏.</li>
          <li>–ê–ª–ª–µ–ª—å <strong>i</strong> —Ä–µ—Ü–µ—Å—Å–∏–≤–Ω—ã–π, –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≥–µ–Ω–æ—Ç–∏–ø–µ <strong>ii</strong> (<strong>I</strong> –≥—Ä—É–ø–ø–∞).</li>
        </ul>
        <p><span class="pill">–ì–µ–Ω–æ—Ç–∏–ø—ã ‚Üí —Ñ–µ–Ω–æ—Ç–∏–ø—ã</span></p>
        <ul>
          <li><strong>I –≥—Ä—É–ø–ø–∞ (0)</strong>: <code>ii</code></li>
          <li><strong>II –≥—Ä—É–ø–ø–∞ (A)</strong>: <code>I·¥¨I·¥¨</code> –∏–ª–∏ <code>I·¥¨i</code></li>
          <li><strong>III –≥—Ä—É–ø–ø–∞ (B)</strong>: <code>I·¥ÆI·¥Æ</code> –∏–ª–∏ <code>I·¥Æi</code></li>
          <li><strong>IV –≥—Ä—É–ø–ø–∞ (AB)</strong>: <code>I·¥¨I·¥Æ</code></li>
        </ul>
        <h3>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä–∞ (Rh)</h3>
        <p>–†–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥–µ–Ω–∞ —Å –¥–≤—É–º—è –∞–ª–ª–µ–ª—è–º–∏:
          <strong>D</strong> ‚Äì –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω—ã–π (–Ω–∞–ª–∏—á–∏–µ –∞–Ω—Ç–∏–≥–µ–Ω–∞ D, Rh‚Å∫);
          <strong>d</strong> ‚Äì —Ä–µ—Ü–µ—Å—Å–∏–≤–Ω—ã–π (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω—Ç–∏–≥–µ–Ω–∞ D, Rh‚Åª).</p>
        <ul>
          <li><strong>Rh‚Å∫</strong>: <code>DD</code> –∏–ª–∏ <code>Dd</code></li>
          <li><strong>Rh‚Åª</strong>: <code>dd</code></li>
        </ul>
        <p><span class="pill">–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏</span></p>
        <ol>
          <li>–†–µ–±—ë–Ω–æ–∫ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ–¥–∏–Ω –∞–ª–ª–µ–ª—å –æ—Ç –º–∞—Ç–µ—Ä–∏, –¥—Ä—É–≥–æ–π ‚Äî –æ—Ç –æ—Ç—Ü–∞.</li>
          <li>ii √ó ii ‚Üí —É —Ä–µ–±—ë–Ω–∫–∞ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ I –≥—Ä—É–ø–ø–∞.</li>
          <li>I·¥¨i √ó I·¥Æi ‚Üí –≤–æ–∑–º–æ–∂–Ω—ã –≤—Å–µ —á–µ—Ç—ã—Ä–µ –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏ (I, II, III, IV).</li>
          <li>dd √ó dd ‚Üí –¥–µ—Ç–∏ –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ Rh‚Åª.</li>
          <li>Dd √ó dd ‚Üí –≤–æ–∑–º–æ–∂–Ω—ã –¥–µ—Ç–∏ –∫–∞–∫ Rh‚Å∫, —Ç–∞–∫ –∏ Rh‚Åª.</li>
        </ol>
      </div>
      <div class="card">
        <h3>‚ú® –ò—Å—Ç–æ—Ä–∏—è ¬∑ –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥–∞–¥–∫–∞ –º–æ–µ–π —Å–µ–º—å–∏</h3>
        <p class="muted">–ó–¥–µ—Å—å ‚Äî –Ω–µ —Å—É—Ö–∞—è —Ç–µ–æ—Ä–∏—è, –∞ –º–∞–ª–µ–Ω—å–∫–∞—è –∫–Ω–∏–∂–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –ø—Ä–æ—Å—Ç–æ –∏–∑ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–∞.</p>
        <p><a href="https://g.co/gemini/share/266020f22d6e" target="_blank" rel="noopener">üëâ –ü–µ—Ä–µ–π—Ç–∏ –∫ –∏—Å—Ç–æ—Ä–∏–∏</a></p>
      </div>
    </section>

    <!-- TASKS -->
    <section id="tasks">
      <div class="hero" style="background-image:url('tasks_bg.png');">
        <div class="overlay">–ó–∞–¥–∞–Ω–∏—è</div>
      </div>
      <div class="card">
        <h3>–ó–∞–¥–∞–Ω–∏–µ 1. –û—Ç–º–µ—Ç—å—Ç–µ –≤–µ—Ä–Ω–æ/–Ω–µ–≤–µ—Ä–Ω–æ</h3>
        <div class="row">
          <div>
            <ol id="t1-list">
              <li>–£ —á–µ–ª–æ–≤–µ–∫–∞ —Ä–∞–∑–ª–∏—á–∞—é—Ç —á–µ—Ç—ã—Ä–µ –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏: I, II, III, IV.</li>
              <li>–ê–ª–ª–µ–ª–∏ I·¥¨ –∏ I·¥Æ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –≥–µ–Ω–æ—Ç–∏–ø–µ I·¥¨I·¥Æ, —Ñ–æ—Ä–º–∏—Ä—É—è IV –≥—Ä—É–ø–ø—É –∫—Ä–æ–≤–∏.</li>
              <li>–ì–µ–Ω–æ—Ç–∏–ø ii —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç II (A) –≥—Ä—É–ø–ø–µ –∫—Ä–æ–≤–∏.</li>
              <li>–ê–ª–ª–µ–ª—å i —è–≤–ª—è–µ—Ç—Å—è —Ä–µ—Ü–µ—Å—Å–∏–≤–Ω—ã–º.</li>
              <li>–†–æ–¥–∏—Ç–µ–ª–∏ —Å I –≥—Ä—É–ø–ø–æ–π –∫—Ä–æ–≤–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–µ–±—ë–Ω–∫–∞ —Å IV –≥—Ä—É–ø–ø–æ–π –∫—Ä–æ–≤–∏.</li>
              <li>–ï—Å–ª–∏ —É –º–∞—Ç–µ—Ä–∏ II (A) (I·¥¨i), –∞ —É –æ—Ç—Ü–∞ III (B) (I·¥Æi), —Ä–µ–±—ë–Ω–æ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ª—é–±—É—é –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –≥—Ä—É–ø–ø –∫—Ä–æ–≤–∏.</li>
              <li>–†–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –ø–æ –∑–∞–∫–æ–Ω—É –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: D ‚Äî –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω—ã–π, d ‚Äî —Ä–µ—Ü–µ—Å—Å–∏–≤–Ω—ã–π.</li>
              <li>–£ —Ä–æ–¥–∏—Ç–µ–ª–µ–π dd √ó dd –≤—Å–µ –¥–µ—Ç–∏ –±—É–¥—É—Ç Rh‚Å∫.</li>
              <li>–ì–µ–Ω–æ—Ç–∏–ø I·¥Æi —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç III (B) –≥—Ä—É–ø–ø–µ –∫—Ä–æ–≤–∏.</li>
              <li>–ü—Ä–∏ –ø–µ—Ä–µ–ª–∏–≤–∞–Ω–∏–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç –∏ —Å–∏—Å—Ç–µ–º—É AB0, –∏ —Ä–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä.</li>
            </ol>
          </div>
          <div>
            <div class="muted">–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –Ω–∞–ø–∏—à–∏—Ç–µ ¬´–í–µ—Ä–Ω–æ¬ª –∏–ª–∏ ¬´–ù–µ–≤–µ—Ä–Ω–æ¬ª.</div>
            <textarea id="t1-input" rows="10" style="width:100%;border-radius:12px;padding:10px"></textarea>
            <label style="display:block;margin-top:8px"><input type="checkbox" id="t1-done"> –Ø –≤—ã–ø–æ–ª–Ω–∏–ª(–∞) –∑–∞–¥–∞–Ω–∏–µ</label>
            <details class="answer" id="t1-ans" disabled>
              <summary>–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã</summary>
              <ol>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–ù–µ–≤–µ—Ä–Ω–æ ‚Äî ii —ç—Ç–æ I (0) –≥—Ä—É–ø–ø–∞</li>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–ù–µ–≤–µ—Ä–Ω–æ ‚Äî ii √ó ii ‚Üí —Ç–æ–ª—å–∫–æ I –≥—Ä—É–ø–ø–∞</li>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–ù–µ–≤–µ—Ä–Ω–æ ‚Äî dd √ó dd ‚Üí –≤—Å–µ –¥–µ—Ç–∏ Rh‚Åª</li>
                <li>–í–µ—Ä–Ω–æ</li>
                <li>–í–µ—Ä–Ω–æ</li>
              </ol>
            </details>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>–ó–∞–¥–∞–Ω–∏–µ 2. –ö—Ç–æ –æ—Ç–µ—Ü?</h3>
        <p>–£ –º–∞—Ç–µ—Ä–∏ ‚Äî II (A) (I·¥¨i, Rh‚Å∫). –£ —Ä–µ–±—ë–Ω–∫–∞ ‚Äî I (0) (Rh‚Åª). –ö—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ü–æ–º?</p>
        <ul class="muted">
          <li>–ö–∞–Ω–¥–∏–¥–∞—Ç 1: III (B), Rh‚Å∫ (I·¥ÆiDd)</li>
          <li>–ö–∞–Ω–¥–∏–¥–∞—Ç 2: IV (AB), Rh‚Åª (I·¥¨I·¥Ædd)</li>
          <li>–ö–∞–Ω–¥–∏–¥–∞—Ç 3: I (0), Rh‚Åª (iidd)</li>
        </ul>
        <textarea id="t2-input" rows="5" style="width:100%;border-radius:12px;padding:10px" placeholder="–û–±–æ—Å–Ω—É–π—Ç–µ –æ—Ç–≤–µ—Ç..."></textarea>
        <label style="display:block;margin-top:8px"><input type="checkbox" id="t2-done"> –Ø –≤—ã–ø–æ–ª–Ω–∏–ª(–∞) –∑–∞–¥–∞–Ω–∏–µ</label>
        <details class="answer" id="t2-ans">
          <summary>–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</summary>
          <p><strong>–ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç 3 (iidd)</strong>: –ø–æ —Å–∏—Å—Ç–µ–º–µ AB0 –Ω—É–∂–µ–Ω –∞–ª–ª–µ–ª—å <code>i</code> –æ—Ç –æ—Ç—Ü–∞ ‚Üí –≥—Ä—É–ø–ø–∞ I (0), –∞ –ø–æ Rh ‚Äî —É —Ä–µ–±—ë–Ω–∫–∞ <code>dd</code>, –∑–Ω–∞—á–∏—Ç –æ—Ç–µ—Ü –æ–±—è–∑–∞–Ω –Ω–µ—Å—Ç–∏ <code>d</code>. –ö–∞–Ω–¥–∏–¥–∞—Ç 2 –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è (–Ω–µ –¥–∞—ë—Ç –∞–ª–ª–µ–ª—å <code>i</code>), –∫–∞–Ω–¥–∏–¥–∞—Ç 1 –º–æ–∂–µ—Ç –¥–∞—Ç—å <code>i</code>, –Ω–æ –ø—Ä–∏ RhDd√ó? –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å Rh‚Åª —É —Ä–µ–±—ë–Ω–∫–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ <code>d</code> –æ—Ç –º–∞—Ç–µ—Ä–∏; –æ–¥–Ω–∞–∫–æ —É —Ä–µ–±—ë–Ω–∫–∞ —Ç–æ—á–Ω–æ Rh‚Åª, –∞ —É –º–∞—Ç–µ—Ä–∏ —Ñ–µ–Ω–æ—Ç–∏–ø Rh‚Å∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –≥–µ–Ω–æ—Ç–∏–ø–∞ ‚Äî —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî <strong>iidd</strong>.</p>
        </details>
      </div>

      <div class="card">
        <h3>–ó–∞–¥–∞–Ω–∏–µ 3. –¢–≤–æ—Ä—á–µ—Å–∫–æ–µ</h3>
        <p>–ù–∞—Ä–∏—Å—É–π—Ç–µ –∫–æ–º–∏–∫—Å –∏–ª–∏ —Å—Ö–µ–º—É, –≥–¥–µ —ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã —Å –∞–Ω—Ç–∏–≥–µ–Ω–∞–º–∏ A –∏ B ‚Äî –∫–∞–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –∞ –∞–Ω—Ç–∏—Ç–µ–ª–∞ ‚Äî ¬´–æ—Ö—Ä–∞–Ω–Ω–∏–∫–∏¬ª. –ü–æ–¥–ø–∏—à–∏—Ç–µ, –ø–æ—á–µ–º—É –ø—Ä–∏ –ø–µ—Ä–µ–ª–∏–≤–∞–Ω–∏–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –∫—Ä–æ–≤–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ¬´–¥—Ä–∞–∫–∞¬ª.</p>
        <label style="display:block;margin-top:8px"><input type="checkbox" id="t3-done"> –Ø –≤—ã–ø–æ–ª–Ω–∏–ª(–∞) –∑–∞–¥–∞–Ω–∏–µ</label>
        <details class="answer" id="t3-ans">
          <summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∞</summary>
          <ul>
            <li>–ù–∞ —ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç–∞—Ö A ‚Äî –∞–Ω—Ç–∏–≥–µ–Ω A; –≤ –ø–ª–∞–∑–º–µ –∞–Ω—Ç–∏—Ç–µ–ª–∞ anti‚ÄëB.</li>
            <li>–ù–∞ —ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç–∞—Ö B ‚Äî –∞–Ω—Ç–∏–≥–µ–Ω B; –≤ –ø–ª–∞–∑–º–µ –∞–Ω—Ç–∏—Ç–µ–ª–∞ anti‚ÄëA.</li>
            <li>–ü—Ä–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∞–Ω—Ç–∏—Ç–µ–ª–∞ —Å–∫–ª–µ–∏–≤–∞—é—Ç —á—É–∂–∏–µ —ç—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã ‚Üí –∞–≥–≥–ª—é—Ç–∏–Ω–∞—Ü–∏—è.</li>
          </ul>
        </details>
      </div>
    </section>

    <!-- TEST -->
    <section id="test">
      <div class="hero" style="background-image:url('test_bg.jpg');">
        <div class="overlay">–¢–µ—Å—Ç</div>
      </div>

      <div class="card rule">
        <strong>–ü—Ä–∞–≤–∏–ª–∞:</strong> —Ç–µ—Å—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ <u>–æ–¥–∏–Ω —Ä–∞–∑</u>, –≤—Ä–µ–º—è ‚Äî <u>3 –º–∏–Ω—É—Ç—ã</u>.
        –ù–µ –ø–æ–∫–∏–¥–∞–π—Ç–µ –≤–∫–ª–∞–¥–∫—É ¬´–¢–µ—Å—Ç¬ª: –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–∞—é—Ç –ø–æ–ø—ã—Ç–∫—É.
      </div>

      <div class="card" id="gate">
        <div class="grid grid-2">
          <label>–ò–º—è:<br><input id="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" style="width:100%;padding:10px;border-radius:10px;border:1px solid #cfe9d1"></label>
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç:<br>
            <select id="variant" style="width:100%;padding:10px;border-radius:10px;border:1px solid #cfe9d1">
              <option value="">‚Äî</option>
              <option value="1">–í–∞—Ä–∏–∞–Ω—Ç 1</option>
              <option value="2">–í–∞—Ä–∏–∞–Ω—Ç 2</option>
            </select>
          </label>
        </div>
        <div style="display:flex;gap:10px;align-items:center;margin-top:12px">
          <button class="btn" id="start" disabled>–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
          <div class="timer" id="timer">03:00</div>
        </div>
      </div>

      <div id="quiz" class="card" style="display:none"></div>
      <div id="result" class="card" style="display:none"></div>
    </section>

    <!-- HOMEWORK -->
    <section id="hw">
      <div class="hero" style="background-image:url('tasks_bg.png');">
        <div class="overlay">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
      </div>
      <div class="card">
        <p><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong> –°–æ—Å—Ç–∞–≤—å—Ç–µ —Å—Ö–µ–º—É‚Äë—Ç–∞–±–ª–∏—Ü—É ¬´–ì—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π ‚Üí –≤–æ–∑–º–æ–∂–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏ —Ä–µ–±—ë–Ω–∫–∞¬ª –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç–µ –µ—ë –≤ —Ç–µ—Ç—Ä–∞–¥–∏.</p>
        <p class="muted">–°–æ–≤–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ—à—ë—Ç–∫—É –ü–µ–Ω–Ω–µ—Ç–∞ –¥–ª—è –ø–∞—Ä I·¥¨/i –∏ I·¥Æ/i, –∞ —Ç–∞–∫–∂–µ —É—á—Ç–∏—Ç–µ Rh (D/d).</p>
      </div>
    </section>
  </main>

  <footer>¬© –£—á–µ–±–Ω—ã–π —Å–∞–π—Ç ‚Ä¢ AB0 & Rh</footer>
</div>

<script>
// ---------- Tabs & navigation lock ----------
const tabs = document.querySelectorAll('.tab');
const sections = document.querySelectorAll('section');
let testStarted = false;
let testLocked = false;
function show(tabId){
  sections.forEach(s=>s.classList.remove('active'));
  tabs.forEach(t=>t.classList.remove('active'));
  document.getElementById(tabId).classList.add('active');
  document.querySelector('.tab[data-tab="'+tabId+'"]').classList.add('active');

  // If user navigates away from test after start -> lock
  if(testStarted && tabId !== 'test' && !testLocked){
    finish(true, '–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –≤–∫–ª–∞–¥–∫–∞ –ø–æ–∫–∏–Ω—É—Ç–∞.');
  }
}
tabs.forEach(b=>b.addEventListener('click',()=>show(b.dataset.tab)));

// ---------- Enable answers reveal only after done ----------
function bindDone(chkId, detailsId){
  const chk = document.getElementById(chkId);
  const det = document.getElementById(detailsId);
  const update=()=> det.open = chk.checked;
  chk.addEventListener('change', update);
}
bindDone('t1-done','t1-ans');
bindDone('t2-done','t2-ans');
bindDone('t3-done','t3-ans');

// ---------- TEST logic ----------
const gate = document.getElementById('gate');
const startBtn = document.getElementById('start');
const nameInp = document.getElementById('name');
const variantSel = document.getElementById('variant');
const quizBox = document.getElementById('quiz');
const resultBox = document.getElementById('result');
const timerEl = document.getElementById('timer');
let tick=null, left=180, answers=[], correct=[], qset=[], finished=false;

const STORAGE_KEY='ab0_rh_test_lock_v1';

function fmt(s){const m=Math.floor(s/60).toString().padStart(2,'0');const r=(s%60).toString().padStart(2,'0');return m+':'+r}

// Lock if already attempted (even on refresh)
if(localStorage.getItem(STORAGE_KEY)){
  gate.classList.add('blocked'); startBtn.disabled=true;
  gate.querySelectorAll('input,select').forEach(el=>el.disabled=true);
  timerEl.textContent='–ü–û–ü–´–¢–ö–ê –£–ñ–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ê';
}

function gateCheck(){
  startBtn.disabled = !nameInp.value.trim() || !variantSel.value || localStorage.getItem(STORAGE_KEY);
}
nameInp.addEventListener('input',gateCheck);
variantSel.addEventListener('change',gateCheck);

// Questions
const QUIZ = {
  "1":[
    ["–°–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø –∫—Ä–æ–≤–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç –≤ —Å–∏—Å—Ç–µ–º–µ AB0 —É —á–µ–ª–æ–≤–µ–∫–∞?","–ê","–ë","–í","–ì","–í"],
    ["–ì–µ–Ω–æ—Ç–∏–ø ii —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫–æ–π –≥—Ä—É–ø–ø–µ –∫—Ä–æ–≤–∏?","–ê","–ë","–í","–ì","–ê"],
    ["–ö–∞–∫–∏–µ –∞–ª–ª–µ–ª–∏ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ –∞–Ω—Ç–∏–≥–µ–Ω—ã —Å–∏—Å—Ç–µ–º—ã AB0?","–ê","–ë","–í","–ì","–ë"],
    ["–ö–∞–∫–æ–π –≥–µ–Ω–æ—Ç–∏–ø —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç IV (AB) –≥—Ä—É–ø–ø–µ –∫—Ä–æ–≤–∏?","–ê","–ë","–í","–ì","–ì"],
    ["–ê–ª–ª–µ–ª—å i —è–≤–ª—è–µ—Ç—Å—è‚Ä¶","–ê","–ë","–í","–ì","–í"],
    ["I √ó I ‚Üí —É —Ä–µ–±—ë–Ω–∫–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –≥—Ä—É–ø–ø–∞ –∫—Ä–æ–≤–∏:","–ê","–ë","–í","–ì","–ê"],
    ["–†–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ–º –∞–Ω—Ç–∏–≥–µ–Ω–∞‚Ä¶","–ê","–ë","–í","–ì","–í"],
    ["–ì–µ–Ω–æ—Ç–∏–ø dd —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç:","–ê","–ë","–í","–ì","–ë"],
    ["–ï—Å–ª–∏ –æ–±–∞ —Ä–æ–¥–∏—Ç–µ–ª–∏ —Ä–µ–∑—É—Å‚Äë–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, –¥–µ—Ç–∏ –±—É–¥—É—Ç:","–ê","–ë","–í","–ì","–ë"],
    ["–¢–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É I·¥¨ –∏ I·¥Æ:","–ê","–ë","–í","–ì","–í"],
  ],
  "2":[
    ["–ö–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏ –±—ã–≤–∞—é—Ç —É —á–µ–ª–æ–≤–µ–∫–∞?","–ê","–ë","–í","–ì","–ë"],
    ["–£–∫–∞–∂–∏—Ç–µ –≥–µ–Ω–æ—Ç–∏–ø –¥–ª—è II (A) –≥—Ä—É–ø–ø—ã –∫—Ä–æ–≤–∏:","–ê","–ë","–í","–ì","–ê"],
    ["–ì–µ–Ω–æ—Ç–∏–ø I·¥Æi —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫–æ–π –≥—Ä—É–ø–ø–µ –∫—Ä–æ–≤–∏?","–ê","–ë","–í","–ì","–í"],
    ["–£ –º–∞—Ç–µ—Ä–∏ II (A), —É –æ—Ç—Ü–∞ III (B). –ì—Ä—É–ø–ø—ã —Ä–µ–±—ë–Ω–∫–∞:","–ê","–ë","–í","–ì","–í"],
    ["–ï—Å–ª–∏ —É —Ä–µ–±—ë–Ω–∫–∞ I (0), —É –º–∞—Ç–µ—Ä–∏ IV (AB), –æ—Ç–µ—Ü –º–æ–∂–µ—Ç –±—ã—Ç—å:","–ê","–ë","–í","–ì","–ë"],
    ["–†–µ–∑—É—Å‚Äë—Ñ–∞–∫—Ç–æ—Ä –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –ø–æ –∑–∞–∫–æ–Ω—É:","–ê","–ë","–í","–ì","–í"],
    ["–û—Ç–µ—Ü Dd, –º–∞—Ç—å dd. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å Rh‚Åª:","–ê","–ë","–í","–ì","–ë"],
    ["–†–æ–¥–∏—Ç–µ–ª–∏ I (0) –∏ IV (AB). –†–µ–±—ë–Ω–æ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å:","–ê","–ë","–í","–ì","–ë"],
    ["–ê–Ω—Ç–∏–≥–µ–Ω—ã —Å–∏—Å—Ç–µ–º—ã AB0 —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏:","–ê","–ë","–í","–ì","–ë"],
    ["–ü–æ—á–µ–º—É –≤–æ–∑–º–æ–∂–µ–Ω —Ä–µ–∑—É—Å‚Äë–∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏?","–ê","–ë","–í","–ì","–ë"],
  ]
};

function renderQuiz(v){
  qset = QUIZ[v];
  quizBox.innerHTML='';
  qset.forEach((q,idx)=>{
    const [text,a,b,c,d,ans]=q;
    correct[idx]=ans;
    const node=document.createElement('div');
    node.className='question';
    node.innerHTML=`<h4>${idx+1}. ${text}</h4>
    <label class="opt"><input type="radio" name="q${idx}" value="–ê"> –ê) ${a}</label>
    <label class="opt"><input type="radio" name="q${idx}" value="–ë"> –ë) ${b}</label>
    <label class="opt"><input type="radio" name="q${idx}" value="–í"> –í) ${c}</label>
    <label class="opt"><input type="radio" name="q${idx}" value="–ì"> –ì) ${d}</label>`;
    quizBox.appendChild(node);
  });
  const actions=document.createElement('div');
  actions.style="display:flex;gap:8px;margin-top:10px";
  actions.innerHTML=`<button class="btn" id="submit">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
                     <button class="btn ghost" id="cancel">–û—Ç–º–µ–Ω–∞</button>`;
  quizBox.appendChild(actions);

  document.getElementById('submit').addEventListener('click',()=>finish(false,'–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º'));
  document.getElementById('cancel').addEventListener('click',()=>finish(true,'–ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞'));
}

function start(){
  // Set lock immediately (no second try after refresh)
  localStorage.setItem(STORAGE_KEY,'1');
  testStarted = true;
  gate.classList.add('blocked');
  gate.querySelectorAll('input,select,button').forEach(el=>el.disabled=true);
  renderQuiz(variantSel.value);
  quizBox.style.display='block';
  resultBox.style.display='none';
  left=180; timerEl.textContent=fmt(left);
  tick=setInterval(()=>{
    left--; timerEl.textContent=fmt(left);
    if(left<=0){ finish(false,'–í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ');}
  },1000);
}
function disableQuiz(){
  quizBox.querySelectorAll('input[type=radio],button').forEach(el=>el.disabled=true);
}
function finish(cancelled,msg){
  if(finished) return;
  finished=true; testLocked=true; clearInterval(tick);
  disableQuiz();

  // Score
  let score=0;
  qset.forEach((q,idx)=>{
    const sel = document.querySelector(`input[name="q${idx}"]:checked`);
    const val = sel ? sel.value : null;
    if(val===correct[idx]) score++;
  });
  const name=nameInp.value.trim()||'–£—á–µ–Ω–∏–∫';
  resultBox.style.display='block';
  resultBox.innerHTML = `<div class="score">${name}, –≤–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} / ${qset.length}</div>
  <div class="muted">${msg}</div>`;
}
startBtn.addEventListener('click', start);
gateCheck();
</script>
</body>
</html>
